<!--The whole content below can be removed with the new code.-->
<div>
  <h3>
    <!-- Add Redirection -->
  </h3>
  <form [formGroup]="addform" (ngSubmit)="submit()" #formDir="ngForm">

    <div class="form-group">
      <label for="domain">Domain</label>
      <select id="domain" class="form-control">
        <option *ngFor="let idValue of domains" [value]="idValue.id">{{idValue.name}}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="sourceType">Type de source</label>
      <select id="sourceType" class="form-control" formControlName="sourceType">
        <option *ngFor="let idValue of sourceTypes" [value]="idValue.id">{{idValue.name}}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="source">Source</label>
      <input id="source" class="form-control" formControlName="source" value=''>
      <div *ngIf="formDir.submitted && addform.controls['source'].errors?.required" class="alert alert-danger">
        required !!
      </div>
      <div *ngIf="formDir.submitted && addform.controls['source'].errors?.minlength" class="alert alert-danger">
        minlength !!
      </div>
    </div>
    <div class="form-group">
      <label for="targetType">Type de target</label>
      <select id="targetType" class="form-control" formControlName="targetType">
        <option *ngFor="let idValue of targetTypes" [value]="idValue.id">{{idValue.name}}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="target">Target</label>
      <input id="target" class="form-control" formControlName="target">
      <div
        *ngIf="addform.controls['target'].invalid && (addform.controls['target'].dirty || addform.controls['target'].touched)"
        class="alert alert-danger">
        <div *ngIf="addform.controls['target'].errors.required">
          Target is required.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="redirectionType">Type de redirection</label>
      <select id="redirectionType" class="form-control" formControlName="redirectionType">
        <option *ngFor="let idValue of redirectionTypes" [value]="idValue.id">{{idValue.name}}</option>
      </select>
    </div>

    <div class="alert alert-danger" role="alert" *ngIf="addform.errors && addform.hasError('circularDep')">
      {{addform.errors['circularDep'] }}

    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
  <p>Form value: {{ addform.value | json }}</p>
  <p>Form status: {{ addform.status | json }}</p>
</div>
{{submitting}}
formDir.submitted: {{formDir.submitted}}
